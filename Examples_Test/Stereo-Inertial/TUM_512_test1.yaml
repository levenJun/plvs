%YAML:1.0

#--------------------------------------------------------------------------------------------
# Camera Parameters. Adjust them!
#--------------------------------------------------------------------------------------------
Camera.type: "KannalaBrandt8"

# Left Camera calibration and distortion parameters (OpenCV)
Camera.fx: 2.3633070373535156e+02
Camera.fy: 2.3549401855468750e+02
Camera.cx: 3.1834811401367188e+02
Camera.cy: 2.4780487060546875e+02

# Kannala-Brandt distortion parameters
Camera.k1: 2.1184290945529938e-01
Camera.k2: -1.7658305168151855e-01
Camera.k3: 7.3046609759330750e-02
Camera.k4: -1.3762626796960831e-02

# Right Camera calibration and distortion parameters (OpenCV)
Camera2.fx: 2.3593492126464844e+02
Camera2.fy: 2.3563052368164062e+02
Camera2.cx: 3.1778930664062500e+02
Camera2.cy: 2.4349092102050781e+02

# Kannala-Brandt distortion parameters
Camera2.k1: 2.0808017253875732e-01
Camera2.k2: -1.6690652072429657e-01
Camera2.k3: 6.2197815626859665e-02
Camera2.k4: -1.0253303684294224e-02
    
# Transformation matrix from right camera to left camera
Tlr: !!opencv-matrix
  rows: 3
  cols: 4
  dt: f
  data: [ 0.99998389, -0.00530736, -0.00204259,  0.00317671,
            0.00426591,  0.93758583, -0.3477277,  -0.0928258,
            0.00376065,  0.34771337,  0.93759333, -0.01964526]

# Lapping area between images
Camera.lappingBegin: 0
Camera.lappingEnd: 640

Camera2.lappingBegin: 0
Camera2.lappingEnd: 640

# Camera resolution
Camera.width: 640
Camera.height: 480

# Camera frames per second 
Camera.fps: 30.0

# Color order of the images (0: BGR, 1: RGB. It is ignored if images are grayscale)
Camera.RGB: 1

# Close/Far threshold. Baseline times.
ThDepth: 40.0
Camera.bf: 22.4361


# Transformation from body-frame (imu) to left camera
Tbc: !!opencv-matrix
   rows: 4
   cols: 4
   dt: f
   data: [0.0194749,  -0.98670464, -0.16135282, -0.06190554, 
          -0.78343203,  0.0852058,  -0.6156088,  -0.00644014,
          0.62117224,  0.13839789, -0.77135664, -0.00452455,
          0.0, 0.0, 0.0, 1.0]

# IMU noise (Use those from VINS-mono)
IMU.NoiseGyro: 2.0077961527517466e-03 # 0.004 (VINS) # 0.00016 (TUM) # 0.00016    # rad/s^0.5 
IMU.NoiseAcc: 2.2761017834953157e-02 # 0.04 (VINS) # 0.0028 (TUM) # 0.0028     # m/s^1.5
IMU.GyroWalk: 1.2960092204266150e-05 # 0.000022 (VINS and TUM) rad/s^1.5
IMU.AccWalk: 2.8065640439532409e-04 # 0.0004 (VINS) # 0.00086 # 0.00086    # m/s^2.5
IMU.Frequency: 1000

#--------------------------------------------------------------------------------------------
# ORB Parameters
#--------------------------------------------------------------------------------------------

# ORB Extractor: Number of features per image
# ORBextractor.nFeatures: 1000 # Tested with 1250
ORBextractor.nFeatures: 400 # Tested with 1250

# ORB Extractor: Scale factor between levels in the scale pyramid 	
ORBextractor.scaleFactor: 1.2

# ORB Extractor: Number of levels in the scale pyramid	
ORBextractor.nLevels: 8

# ORB Extractor: Fast threshold
# Image is divided in a grid. At each cell FAST are extracted imposing a minimum response.
# Firstly we impose iniThFAST. If no corners are detected we impose a lower value minThFAST
# You can lower these values if your images have low contrast			
ORBextractor.iniThFAST: 20 # 20
ORBextractor.minThFAST: 7 # 7

#--------------------------------------------------------------------------------------------
# Viewer Parameters
#--------------------------------------------------------------------------------------------
Viewer.KeyFrameSize: 0.05
Viewer.KeyFrameLineWidth: 1
Viewer.GraphLineWidth: 0.9
Viewer.PointSize: 2
Viewer.CameraSize: 0.08
Viewer.CameraLineWidth: 3
Viewer.ViewpointX: 0
Viewer.ViewpointY: -0.7
Viewer.ViewpointZ: -3.5
Viewer.ViewpointF: 500
